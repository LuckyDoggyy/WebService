<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title></title>
    <script type="text/javascript" src="../myflow/lib/jquery-ui-1.8.4.custom/js/jquery-1.4.2.min.js"></script>
    <script type="text/javascript" src="lib/jquery-ui-1.8.4.custom/js/jquery-ui-1.8.4.custom.min.js"></script>
    <script>
         function show(){
         var callParams=new Array();
         var value=$("#mobile").val();
         callParams.push({'name':'mobile','value':value});
            $.ajax({
                url:'../flow/callFlow',
                type:'POST',
                async:false,
                data:{
                    autoId:1,
                    callParams:JSON.stringify(callParams)
                },
                timeout:5000,
                dataType:'json',
                success:function(data){
                     var weather=data.weathers;
                     console.log(weather);
                     if (weather) {
                     /*
                        weather.forEach(function(item){
                               $("#main").append('<span>'+item+'</span></br>');
                          });*/
                         $("#main").append('<span>'+weather[0]+'</span></br>');
                         $("#main").append('<span>'+weather[3]+'</span></br>');
                         $("#main").append('<span>'+weather[4]+'</span></br>');
                         $("#main").append('<span>'+weather[5]+'</span></br>');
                         $("#main").append('<span>'+weather[6]+'</span></br>');
                         return false;
                     } else {
                        alert("服务器异常");
                         return false;
                     }
                },
                error:function(xhr,textStatus){
                    alert("请求错误");
                }
                })
        }
    </script>
</head>
<body>
请输入手机号 : <input id="mobile"/>&nbsp;<input type="button" value="查询" onclick="show()"/>

<div id="main">

</div>
</body>
</html>